---
order: 200
---

import MaxOfflineConfig from "../../_images/setmaxoffline.png";
import SetWifiConnections from "../../_images/changeconnections.png";

# Configure your device

When you have installed the Toit firmware on your hardware, the following two default configurations have been set:

- The value of 'Max offline' for the device is 0 seconds, which means that the device is continuously awake.

- The firmware version on the device is the one installed during initial provisioning.

How to change the device configurations is explained below. Changes are applied once the device comes online.

<Tabs>
<Tab label="Console">

To change the device configurations, navigate to the Configuration tab for the given device and edit the configuration as described below.

</Tab>

<Tab label="CLI">
To change the device configurations, use the Toit CLI:

```shell
toit device config
```

See the list of available commands with

```shell
toit device config -h
```

You can set your current device as the default device in all `toit device` commands with

```shell
toit device use device-name
```

by replacing `device-name` with the name of your current device.

</Tab>
</Tabs>

## Firmware configuration

<Tabs>
<Tab label="Console">

The current firmware version installed on the device is displayed in the Firmware section. Click on the Edit icon and choose a new version from the drop down menu, then click Save.
The proposed change is displayed both in the Firmware section and with an icon near the name of the device until the new version is actually installed the next time the device comes online.

</Tab>
<Tab label="CLI">

To show the firmware version of your device, run

```shell
toit device info
```

Update the firmware on your device to the latest version with

```shell
toit device update
```

You can also downgrade the device with another firmware version with `toit device update [<older-firmware-version>]`, with the firmware version being formatted as `vx.x.x`.

</Tab>
</Tabs>

## Max offline parameter

By default, the device is configured to be continuously online (with 'Max offline' set to zero seconds).
If your device operates on battery in production, it is recommended to change this configuration so that the device is online only when necessary to extend battery life.

<Tabs>
<Tab label="Console">

In the Configuration tab for a given device, go to the 'Max offline' section and change the value (using hours, minutes and seconds) before clicking Save. The parameter will be changed next time the device comes online.

<img src={MaxOfflineConfig} alt="Screenshot of changing the Max offline time in the Toit console" />

</Tab>
<Tab label="CLI">

Set the duration of how often you want your device to come online with

```shell
toit device config max-offline duration
```

where `duration` is replaced by the preferred duration, such as `10s`, `30m`, `1h` or similar.

For example, set 'Max offline' to 24 hours, which means that the device will wake up once a day:

```shell
toit device config max-offline 24h
```

</Tab>
</Tabs>

If you install an application measuring the temperature every hour and the `max-offline` parameter is set to 24 hours, the application will run the program every hour.
Once a day the device will go online and connect to the Toit console and offload all the data to the console.

<Note>

A device can come online due to other triggers than `max-offline`, for example when its storage capacity level reaches a predefined threshold, as explained in the section below.

</Note>

## Connections

When the device has been online the first time after initial provisioning, you can change or add new connections on the device.

<Tabs>
<Tab label="Console">

Navigate to the Configuration tab, Connections section for the given device. Click on the Edit button to open the pop-up window in which you can add or delete a connection.

<img src={SetWifiConnections} alt="Screenshot of changing the WiFi connection in the Toit console" />

When two or more connections are present, choose the order in which they should be used by moving the connections to use in priority above the others.

</Tab>
<Tab label="CLI">

Beware that when using the CLI to configure the connection settings, you need to type in all connections you want to use, in the order you want them to be used.

```shell
toit device config connection -c wifi:"MY_SSID":"MY_WiFiPassword"
```

Use

```txt
-c wifi:"MY_SSID":"MY_WiFiPassword"
```

for setting a new WiFi connection.

<Note>This command will automatically delete all previously configured connections.</Note>

</Tab>
</Tabs>

## Data storage on the device

Your device will attempt to come online based on the `Max offline` parameter.
When the device is offline, the data (such as logs, metrics, and data generated by the apps running on the device) is stored on the device.
Reaching the full capacity of storage defined for this type of data means that the latest data will not be stored correctly.

To avoid this situation, it is possible to filter which type of logs and metrics are saved on the device.

In addition, a threshold of storage is set to trigger an online connection where data can be flushed from the device to the console.

See how you can minimize data storage and frequent triggered online connection in the [Devices](../deviceconsole) section.
