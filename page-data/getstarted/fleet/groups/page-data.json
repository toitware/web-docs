{
    "componentChunkName": "component---src-components-layout-mdx-layout-tsx",
    "path": "/getstarted/fleet/groups",
    "result": {"data":{"site":{"siteMetadata":{"title":"Toit documentation"}},"mdx":{"body":"const _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nconst _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return mdx(\"div\", props);\n};\n\nconst Note = makeShortcode(\"Note\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  let {\n    components\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"device-groups\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"href\": \"#device-groups\",\n    \"aria-label\": \"device groups permalink\",\n    \"className\": \"table-of-contents-icon before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Device groups`), mdx(\"p\", null, `Artemis allows you to organize your devices in groups. Each group has an\nassociated remote pod reference. This allows Artemis to determine which\npod a device is supposed to run.`), mdx(\"p\", null, `Device groups are defined in the `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `fleet.json`), ` file:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, `{\n  ...\n  \"groups\": {\n    \"office\": {\n      \"pod\": \"esp32-wifi@v1.0.3\"\n    },\n    \"solar-farm-fr-nce\": {\n      \"pod\": \"esp32s3-cellular@v1.0.3\"\n    }\n  }\n}\n`)), mdx(\"p\", null, `When flashing a device, you can decide which group the device belongs\nto by using the `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `--group`), ` argument:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis serial flash --port /dev/ttyUSB0 --group office\n`)), mdx(\"p\", null, `From this point forward, the device knows which group it belongs to\nso if the pod of its group is changed, Artemis will push an update\nto the device when requested to roll out the changes to the fleet:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet roll-out\n`)), mdx(Note, {\n    mdxType: \"Note\"\n  }, mdx(\"p\", null, `If the `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `fleet.json`), ` file contains a group named `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `default`), `, it is used\nfor any device where you do not specify its group when you flash it.`), mdx(\"p\", null, `This is convenient for small homogenous fleets where not having to\nworry about groups at all simplifies things.`)), mdx(\"h2\", {\n    \"id\": \"creating-groups\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#creating-groups\",\n    \"aria-label\": \"creating groups permalink\",\n    \"className\": \"table-of-contents-icon before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Creating groups`), mdx(\"p\", null, `To create a new group, you can edit the `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `fleet.json`), ` file or simply use:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group add solar-farm-dk-aar\n`)), mdx(\"p\", null, `This creates a new group based on the same pod as the `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `default`), ` group.\nYou can optionally specify the pod for the new group by passing\na `, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, `--pod`), ` argument like this:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group add solar-farm-dk-aar --pod esp32s3-cellular@v1.0.3\n`)), mdx(\"p\", null, `It is also possible to use a non-default group as a template. In this case,\nthe settings for the existing group are copied to the new group:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group add solar-farm-dk-aar --template solar-farm-fr-nce\n`)), mdx(\"h2\", {\n    \"id\": \"deploying-to-groups\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#deploying-to-groups\",\n    \"aria-label\": \"deploying to groups permalink\",\n    \"className\": \"table-of-contents-icon before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Deploying to groups`), mdx(\"p\", null, `The most common operation on groups is to update the pod they are based\non to prepare for deploying changes to your fleet:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group update --pod esp32s3-cellular@v1.0.4 solar-farm-fr-nce\n`)), mdx(\"p\", null, `You can also just update the tag and in that case it often makes sense\nto do it for multiple groups at the same time:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group update --tag v1.0.4 office solar-farm-fr-nce\n`)), mdx(\"p\", null, `Once you've updated the pod references in your groups, you can use:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet roll-out\n`)), mdx(\"p\", null, `to roll out the changes to your devices.`), mdx(\"h2\", {\n    \"id\": \"renaming-and-merging-groups\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#renaming-and-merging-groups\",\n    \"aria-label\": \"renaming and merging groups permalink\",\n    \"className\": \"table-of-contents-icon before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), `Renaming and merging groups`), mdx(\"p\", null, `Renaming a group is as simple as updating its name:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group update solar-farm-dk-aar --name solar-farm-dk-cph\n`)), mdx(\"p\", null, `To merge two groups, you can move all devices from one group into the\nother and remove the empty one:`), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sh\"\n  }, `artemis fleet group move --group solar-farm-dk-aar --to solar-farm-dk-cph\nartemis fleet group remove solar-farm-dk-aar\n`)));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#device-groups","title":"Device groups","items":[{"url":"#creating-groups","title":"Creating groups"},{"url":"#deploying-to-groups","title":"Deploying to groups"},{"url":"#renaming-and-merging-groups","title":"Renaming and merging groups"}]}]}}},"pageContext":{"title":"Device groups","id":"6434e2d9-f439-5e46-a13f-1c322c2fd3b4"}},
    "staticQueryHashes": ["2197327828"]}